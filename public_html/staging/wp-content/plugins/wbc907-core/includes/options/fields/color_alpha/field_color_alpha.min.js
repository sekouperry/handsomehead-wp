Color.prototype.toString=function(a){if("no-alpha"==a)return this.toCSS("rgba","1").replace(/\s+/g,"");if(1>this._alpha)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var r=parseInt(this._color,10).toString(16);if(this.error)return"";if(r.length<6)for(var i=6-r.length-1;i>=0;i--)r="0"+r;return"#"+r},function(a){"use strict";redux.field_objects=redux.field_objects||{},redux.field_objects.color_alpha=redux.field_objects.color_alpha||{},a(document).ready(function(){}),redux.field_objects.color_alpha.init=function(r){r||(r=a(document).find(".redux-group-tab:visible").find(".redux-container-color_alpha:visible")),a(r).each(function(){var r=a(this),i=r;if(r.hasClass("redux-field-container")||(i=r.parents(".redux-field-container:first")),!i.is(":hidden")&&i.hasClass("redux-field-init")){i.removeClass("redux-field-init");var e,t,n=r.find(".redux-color-init"),o=n.val().replace(/\s+/g,""),d=100;o.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)&&(d=100*parseFloat(o.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)[1])),r.find(".redux-color-init").wpColorPicker({change:function(i,e){a(this).val(e.color.toString()),redux_change(a(this)),r.find("#"+i.target.getAttribute("data-id")+"-transparency").removeAttr("checked")},clear:function(r,i){a(this).val(""),redux_change(a(this).parent().find(".redux-color-init"))}}),a('<div class="redux-alpha-container"><label>Alpha: <output class="rangevalue">'+d+'%</output></label><input type="range" min="0" max="100" value="'+d+'" name="alpha" class="wbc-color-alpha-field"></div>').appendTo(n.parents(".wp-picker-container:first").addClass("wbc-color-alpha-picker").find(".iris-picker")),e=n.parents(".wp-picker-container:first").find(".wbc-color-alpha-field"),t=n.parents(".wp-picker-container:first").find(".redux-alpha-container output"),e.bind("change keyup",function(){var a=parseFloat(e.val()),i=n.data("a8cIris");n.data("wp-wpColorPicker"),t.val(e.val()+"%"),i._color._alpha=parseFloat(a/100),r.find(".redux-color-init").wpColorPicker("color",i._color.toString())}).val(d),r.find(".redux-color").on("keydown",function(){a(this).data("oldkeypress",a(this).val())}),r.find(".color-transparency").on("click",function(){if(a(this).is(":checked"))r.find(".redux-saved-color").val(a("#"+a(this).data("id")).val()),r.find("#"+a(this).data("id")).val("transparent"),r.find("#"+a(this).data("id")).parent().parent().find(".wp-color-result").css("background-color","transparent");else if("transparent"===r.find("#"+a(this).data("id")).val()){var i=a(".redux-saved-color").val();""===i&&(i=a("#"+a(this).data("id")).data("default-color")),r.find("#"+a(this).data("id")).parent().parent().find(".wp-color-result").css("background-color",i),r.find("#"+a(this).data("id")).val(i)}redux_change(a(this))})}})}}(jQuery);