(function ($, window, document, undefined) {    "use strict";$(document).ready( function() {    var fileName = $("input[name=fileName]").val();    var gridContainer, filtersContainer;		if( fileName == 'template-portfolio-masonary-1' ) {		jQuery(window).bind('resize', function(e) {			if (window.RT) clearTimeout(window.RT);			window.RT = setTimeout(function() {				this.location.reload(false); 			}, 50);		});	}    if( fileName == 'template-portfolio-col-1' || fileName == 'template-portfolio-style-1' || fileName == 'template-portfolio-style-2' || fileName == 'template-portfolio-style-3') {        gridContainer = $('#js-grid-col-one');        filtersContainer = $('#js-filters-col-one');    } else if( fileName == 'template-portfolio-col-2' || fileName == 'template-portfolio-style-4' ) {        gridContainer = $('#js-grid-col-two');        filtersContainer = $('#js-filters-col-two');    } else if ( fileName == 'template-portfolio-col-3' ) {        gridContainer = $('#js-grid-col-three');        filtersContainer = $('#js-filters-col-three');    } else if( fileName == 'template-portfolio-masonary-1' || fileName == 'template-portfolio-masonary-2' ) {        gridContainer = $('#js-grid-mosaic');        filtersContainer = $('#js-filters-mosaic');    } else if ( fileName == 'template-portfolio-masonary-3' || fileName == 'template-portfolio-masonary-4' ) {        gridContainer = $('#js-grid-mosaic2');        filtersContainer = $('#js-filters-mosaic2');    } else {        gridContainer = $('#js-grid-col-one');        filtersContainer = $('#js-filters-col-one');    }	// column one    $('#js-grid-col-one').cubeportfolio({        defaultFilter: '*',        animationType: 'quicksand',        gapHorizontal: 0,        gapVertical: 0,        gridAdjustment: 'responsive',        caption: 'overlayBottomReveal',        displayType: 'lazyLoading',        displayTypeSpeed: 100,        // lightbox        lightboxDelegate: '.cbp-lightbox',        lightboxGallery: true,        lightboxTitleSrc: 'data-title',        lightboxShowCounter: true,        // singlePage popup        singlePageDelegate: '.cbp-singlePage',        singlePageDeeplinking: true,        singlePageStickyNavigation: true,        singlePageShowCounter: true,        singlePageCallback: function (url, element) {            // to update singlePage content use the following method: this.updateSinglePage(yourContent)            var t = this;            $.ajax({                url: url,                type: 'GET',                dataType: 'html',                timeout: 5000            })                .done(function(result) {                    t.updateSinglePage(result);                })                .fail(function() {                    t.updateSinglePage("Error! Please refresh the page!");                });        },        // single page inline        singlePageInlineDelegate: '.cbp-singlePageInline',        singlePageInlinePosition: 'above',        singlePageInlineShowCounter: true,        singlePageInlineInFocus: true,        singlePageInlineCallback: function(url, element) {            // to update singlePage Inline content use the following method: this.updateSinglePageInline(yourContent)        }    });    // column two    $('#js-grid-col-two').cubeportfolio({        filters: '#js-filters-col-two',        loadMoreAction: 'click',        layoutMode: 'mosaic',        sortToPreventGaps: true,        mediaQueries: [{            width: 1500,            cols: 2        }, {            width: 1100,            cols: 2        }, {            width: 800,            cols: 2        }, {            width: 480,            cols: 1        }, {            width: 320,            cols: 1        }],        defaultFilter: '*',        animationType: 'fadeOut',        gapHorizontal: 30,        gapVertical: 30,        gridAdjustment: 'responsive',        caption: 'zoom',        displayType: 'sequentially',        displayTypeSpeed: 100,        // lightbox        lightboxDelegate: '.cbp-lightbox',        lightboxGallery: true,        lightboxTitleSrc: 'data-title',        lightboxCounter: '<div class="cbp-popup-lightbox-counter">{{current}} of {{total}}</div>',    });    // column three    $('#js-grid-col-three').cubeportfolio({        filters: '#js-filters-col-three',        loadMoreAction: 'click',        layoutMode: 'mosaic',        sortToPreventGaps: true,        mediaQueries: [{            width: 1500,            cols: 3        }, {            width: 1100,            cols: 3        }, {            width: 800,            cols: 3        }, {            width: 480,            cols: 1        }, {            width: 320,            cols: 1        }],        defaultFilter: '*',        animationType: 'fadeOut',        gapHorizontal: 30,        gapVertical: 30,        gridAdjustment: 'responsive',        caption: 'zoom',        displayType: 'sequentially',        displayTypeSpeed: 100,        // lightbox        lightboxDelegate: '.cbp-lightbox',        lightboxGallery: true,        lightboxTitleSrc: 'data-title',        lightboxCounter: '<div class="cbp-popup-lightbox-counter">{{current}} of {{total}}</div>',    });    // masonry grid    $('#js-grid-mosaic').cubeportfolio({        filters: '#js-filters-mosaic',        loadMore: '#js-loadMore-mosaic',        loadMoreAction: 'click',        layoutMode: 'mosaic',        sortToPreventGaps: true,        mediaQueries: [{            width: 1500,            cols: 5        }, {            width: 1100,            cols: 4        }, {            width: 800,            cols: 3        }, {            width: 480,            cols: 2        }, {            width: 320,            cols: 1        }],        defaultFilter: '*',        animationType: 'fadeOut',        gapHorizontal: 30,        gapVertical: 30,        gridAdjustment: 'responsive',        caption: 'zoom',        displayType: 'sequentially',        displayTypeSpeed: 100,        // lightbox        lightboxDelegate: '.cbp-lightbox',        lightboxGallery: true,        lightboxTitleSrc: 'data-title',        lightboxCounter: '<div class="cbp-popup-lightbox-counter">{{current}} of {{total}}</div>',    });    // masonry grid 2    $('#js-grid-mosaic2').cubeportfolio({        filters: '#js-filters-mosaic2',        loadMore: '#js-loadMore-mosaic',        loadMoreAction: 'click',        layoutMode: 'mosaic',        sortToPreventGaps: true,        mediaQueries: [{            width: 1500,            cols: 5        }, {            width: 1100,            cols: 3        }, {            width: 800,            cols: 3        }, {            width: 480,            cols: 2        }, {            width: 320,            cols: 1        }],        defaultFilter: '*',        animationType: 'fadeOut',        gapHorizontal: 30,        gapVertical: 30,        gridAdjustment: 'responsive',        caption: 'zoom',        displayType: 'sequentially',        displayTypeSpeed: 100,        // lightbox        lightboxDelegate: '.cbp-lightbox',        lightboxGallery: true,        lightboxTitleSrc: 'data-title',        lightboxCounter: '<div class="cbp-popup-lightbox-counter">{{current}} of {{total}}</div>',    });    // add listener for filters click    filtersContainer.on('click', '.cbp-filter-item', function (e) {        var me = $(this), wrap;        // get cubeportfolio data and check if is still animating (reposition) the items.        if ( !$.data(gridContainer[0], 'cubeportfolio').isAnimating ) {            if ( filtersContainer.hasClass('cbp-l-filters-dropdown') ) {                wrap = $('.cbp-l-filters-dropdownWrap');                wrap.find('.cbp-filter-item').removeClass('cbp-filter-item-active');                wrap.find('.cbp-l-filters-dropdownHeader').text(me.text());                me.addClass('cbp-filter-item-active');            } else {                me.addClass('cbp-filter-item-active').siblings().removeClass('cbp-filter-item-active');            }        }        // filter the items        gridContainer.cubeportfolio('filter', me.data('filter'), function () {});    });    // activate counters    gridContainer.cubeportfolio('showCounter', filtersContainer.find('.cbp-filter-item'));    // add listener for load more click    $('#w-load-more').on('click', function(e) {        e.preventDefault();        var clicks, me = $(this), oMsg;        if (me.hasClass('cbp-l-loadMore-button-stop')) return;        // get the number of times the loadMore link has been clicked        clicks = $.data(this, 'numberOfClicks');        clicks = (clicks)? ++clicks : 1;        $.data(this, 'numberOfClicks', clicks);        // set loading status        oMsg = me.text();        me.text('LOADING...');        // perform ajax request        $.ajax({            url: w_studio_loadmoreportfolio.ajaxurl,            data: {                action:'w_studio_portfolio_template_ajaxloader',                click: clicks,                template: fileName            },            type: 'POST',            dataType: 'HTML'        })        .done( function (result) {            var items, itemsNext;            // find current container            items = $(result).filter( function () {                return $(this).is('div' + '.cbp-loadMore-block');            });            gridContainer.cubeportfolio('appendItems', items.html(),                 function () {                    // put the original message back                    me.text(oMsg);                    // check if we have more works                    itemsNext = $(result).filter( function () {                        return $(this).is('div' + '.cbp-loadMore-block');                    });                    if (itemsNext.length === 0) {                        me.text('NO MORE WORKS');                        me.addClass('cbp-l-loadMore-button-stop');                    }                 });        })        .fail(function() {            // error        });    });});})(jQuery, window, document);